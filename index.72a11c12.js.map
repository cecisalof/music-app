{"mappings":"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","sources":["<anon>","src/app.js","node_modules/lazyframe/dist/lazyframe.min.js","node_modules/lazyframe/src/lazyframe.js"],"sourcesContent":["(function () {\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $ec69c9753c4c73e3$exports = {};\n!function(t, e) {\n    $ec69c9753c4c73e3$exports = e();\n}($ec69c9753c4c73e3$exports, function() {\n    \"use strict\";\n    function t() {\n        return (t = Object.assign || function(t) {\n            for(var e = 1; e < arguments.length; e++){\n                var n = arguments[e];\n                for(var i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]);\n            }\n            return t;\n        }).apply(this, arguments);\n    }\n    return function() {\n        var e, n = [], i = {\n            vendor: void 0,\n            id: void 0,\n            src: void 0,\n            thumbnail: void 0,\n            title: void 0,\n            initialized: !1,\n            y: void 0,\n            debounce: 250,\n            lazyload: !0,\n            autoplay: !0,\n            initinview: !1,\n            onLoad: function(t) {},\n            onAppend: function(t) {},\n            onThumbnailLoad: function(t) {}\n        }, o = {\n            regex: {\n                youtube_nocookie: /(?:youtube-nocookie\\.com\\/\\S*(?:(?:\\/e(?:mbed))?\\/|watch\\?(?:\\S*?&?v\\=)))([a-zA-Z0-9_-]{6,11})/,\n                youtube: /(?:youtube\\.com\\/\\S*(?:(?:\\/e(?:mbed))?\\/|watch\\?(?:\\S*?&?v\\=))|youtu\\.be\\/)([a-zA-Z0-9_-]{6,11})/,\n                vimeo: /vimeo\\.com\\/(?:video\\/)?([0-9]*)(?:\\?|)/\n            },\n            condition: {\n                youtube: function(t) {\n                    return !(!t || 11 != t[1].length) && t[1];\n                },\n                youtube_nocookie: function(t) {\n                    return !(!t || 11 != t[1].length) && t[1];\n                },\n                vimeo: function(t) {\n                    return !!(t && 9 === t[1].length || 8 === t[1].length) && t[1];\n                }\n            },\n            src: {\n                youtube: function(t) {\n                    return \"https://www.youtube.com/embed/\".concat(t.id, \"/?autoplay=\").concat(t.autoplay ? \"1\" : \"0\", \"&\").concat(t.query);\n                },\n                youtube_nocookie: function(t) {\n                    return \"https://www.youtube-nocookie.com/embed/\".concat(t.id, \"/?autoplay=\").concat(t.autoplay ? \"1\" : \"0\", \"&\").concat(t.query);\n                },\n                vimeo: function(t) {\n                    return \"https://player.vimeo.com/video/\".concat(t.id, \"/?autoplay=\").concat(t.autoplay ? \"1\" : \"0\", \"&\").concat(t.query);\n                }\n            },\n            endpoint: function(t) {\n                return \"https://noembed.com/embed?url=\".concat(t.src);\n            },\n            response: {\n                title: function(t) {\n                    return t.title;\n                },\n                thumbnail: function(t) {\n                    return t.thumbnail_url;\n                }\n            }\n        };\n        function a(t) {\n            var n = this;\n            if (t instanceof HTMLElement != !1 && !t.classList.contains(\"lazyframe--loaded\")) {\n                var i = {\n                    el: t,\n                    settings: r(t)\n                };\n                i.el.addEventListener(\"click\", function() {\n                    i.el.appendChild(i.iframe);\n                    var e = t.querySelectorAll(\"iframe\");\n                    i.settings.onAppend.call(n, e[0]);\n                }), e.lazyload ? c(i) : l(i, i.settings.thumbnail);\n            }\n        }\n        function r(n) {\n            var i, a, r = Array.prototype.slice.apply(n.attributes).filter(function(t) {\n                return \"\" !== t.value;\n            }).reduce(function(t, e) {\n                return t[0 === e.name.indexOf(\"data-\") ? e.name.split(\"data-\")[1] : e.name] = e.value, t;\n            }, {}), l = t({}, e, r, {\n                y: n.offsetTop,\n                originalSrc: r.src,\n                query: (i = r.src, a = i.split(\"?\"), a[1] ? a[1] : null)\n            });\n            if (l.vendor) {\n                var u = l.src.match(o.regex[l.vendor]);\n                l.id = o.condition[l.vendor](u);\n            }\n            return l;\n        }\n        function l(t) {\n            var e = this;\n            !function(t) {\n                return !(!t.vendor || t.title && t.thumbnail);\n            }(t.settings) ? c(t, !0) : function(t, e) {\n                var n = o.endpoint(t.settings), i = new XMLHttpRequest;\n                i.open(\"GET\", n, !0), i.onload = function() {\n                    if (i.status >= 200 && i.status < 400) {\n                        var n = JSON.parse(i.responseText);\n                        e(null, [\n                            n,\n                            t\n                        ]);\n                    } else e(!0);\n                }, i.onerror = function() {\n                    e(!0);\n                }, i.send();\n            }(t, function(n, i) {\n                if (!n) {\n                    var a = i[0], r = i[1];\n                    if (r.settings.title || (r.settings.title = o.response.title(a)), !r.settings.thumbnail) {\n                        var l = o.response.thumbnail(a);\n                        r.settings.thumbnail = l, t.settings.onThumbnailLoad.call(e, l);\n                    }\n                    c(r, !0);\n                }\n            });\n        }\n        function u() {\n            var t = this, i = window.innerHeight, o = n.length, a = function(e, n) {\n                e.settings.initialized = !0, e.el.classList.add(\"lazyframe--loaded\"), o--, l(e), e.settings.initinview && e.el.click(), e.settings.onLoad.call(t, e);\n            };\n            n.filter(function(t) {\n                return t.settings.y < i;\n            }).forEach(a);\n            var r, u, c, s, d = (r = function() {\n                m = f < window.pageYOffset, f = window.pageYOffset, m && n.filter(function(t) {\n                    return t.settings.y < i + f && !1 === t.settings.initialized;\n                }).forEach(a), 0 === o && window.removeEventListener(\"scroll\", d, !1);\n            }, u = e.debounce, function() {\n                var t = this, e = arguments, n = function() {\n                    s = null, c || r.apply(t, e);\n                }, i = c && !s;\n                clearTimeout(s), s = setTimeout(n, u), i && r.apply(t, e);\n            }), f = 0, m = !1;\n            window.addEventListener(\"scroll\", d, !1);\n        }\n        function c(t, i) {\n            if (t.iframe = function(t) {\n                var e = document.createDocumentFragment(), n = document.createElement(\"iframe\");\n                t.vendor && (t.src = o.src[t.vendor](t));\n                n.setAttribute(\"id\", \"lazyframe-\".concat(t.id)), n.setAttribute(\"src\", t.src), n.setAttribute(\"frameborder\", 0), n.setAttribute(\"allowfullscreen\", \"\"), t.autoplay && (n.allow = \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\");\n                return e.appendChild(n), e;\n            }(t.settings), t.settings.thumbnail && i && (t.el.style.backgroundImage = \"url(\".concat(t.settings.thumbnail, \")\")), t.settings.title && 0 === t.el.children.length) {\n                var a = document.createDocumentFragment(), r = document.createElement(\"span\");\n                r.className = \"lazyframe__title\", r.innerHTML = t.settings.title, a.appendChild(r), t.el.appendChild(a);\n            }\n            e.lazyload || (t.el.classList.add(\"lazyframe--loaded\"), t.settings.onLoad.call(this, t), n.push(t)), t.settings.initialized || n.push(t);\n        }\n        return function(n) {\n            if (e = t({}, i, arguments.length <= 1 ? void 0 : arguments[1]), \"string\" == typeof n) for(var o = document.querySelectorAll(n), r = 0; r < o.length; r++)a(o[r]);\n            else if (void 0 === n.length) a(n);\n            else for(var l = 0; l < n.length; l++)a(n[l]);\n            e.lazyload && u();\n        };\n    }();\n});\n\n\nconsole.log((0, (/*@__PURE__*/$parcel$interopDefault($ec69c9753c4c73e3$exports))));\n/* Adding 'on' class based on  window.location.href */ document.querySelectorAll(\".active\").forEach((link)=>{\n    // console.log(link.href);\n    if (link.href === window.location.href) {\n        link.classList.add(\"on\");\n        link.setAttribute(\"aria-current\", \"page\");\n    }\n});\n/* Getting bounging box for svg animation */ // let svgElement = document.getElementById('svg_animated');\n// console.log(svgElement);\n// bbbox = svgElement.getBBox();\n// console.log(bbbox);\n// Initialize lazyframe\n(0, (/*@__PURE__*/$parcel$interopDefault($ec69c9753c4c73e3$exports)))(\".lazyframe\", {\n    // debounce: 250,\n    // lazyload: true,\n    // autoplay: false,\n    // Callbacks\n    onLoad: (lazyframe)=>console.log(lazyframe),\n    onAppend: (iframe)=>console.log(iframe),\n    onThumbnailLoad: (img)=>console.log(img)\n});\n\n})();\n//# sourceMappingURL=index.72a11c12.js.map\n","import lazyframe from \"lazyframe\";\r\n\r\nconsole.log(lazyframe);\r\n\r\n/* Adding 'on' class based on  window.location.href */\r\ndocument.querySelectorAll('.active').forEach((link) => {\r\n    // console.log(link.href);\r\n    if (link.href === window.location.href) {\r\n        link.classList.add(\"on\");\r\n        link.setAttribute(\"aria-current\", \"page\");\r\n    }\r\n});\r\n\r\n/* Getting bounging box for svg animation */\r\n\r\n// let svgElement = document.getElementById('svg_animated');\r\n// console.log(svgElement);\r\n// bbbox = svgElement.getBBox();\r\n// console.log(bbbox);\r\n\r\n\r\n// Initialize lazyframe\r\nlazyframe('.lazyframe',  {\r\n    // debounce: 250,\r\n    // lazyload: true,\r\n    // autoplay: false,\r\n\r\n// Callbacks\r\n  onLoad: (lazyframe) => console.log(lazyframe),\r\n  onAppend: (iframe) => console.log(iframe),\r\n  onThumbnailLoad: (img) => console.log(img),\r\n});","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).lazyframe=e()}(this,(function(){\"use strict\";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}return function(){var e,n=[],i={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,autoplay:!0,initinview:!1,onLoad:function(t){},onAppend:function(t){},onThumbnailLoad:function(t){}},o={regex:{youtube_nocookie:/(?:youtube-nocookie\\.com\\/\\S*(?:(?:\\/e(?:mbed))?\\/|watch\\?(?:\\S*?&?v\\=)))([a-zA-Z0-9_-]{6,11})/,youtube:/(?:youtube\\.com\\/\\S*(?:(?:\\/e(?:mbed))?\\/|watch\\?(?:\\S*?&?v\\=))|youtu\\.be\\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\\.com\\/(?:video\\/)?([0-9]*)(?:\\?|)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},youtube_nocookie:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!!(t&&9===t[1].length||8===t[1].length)&&t[1]}},src:{youtube:function(t){return\"https://www.youtube.com/embed/\".concat(t.id,\"/?autoplay=\").concat(t.autoplay?\"1\":\"0\",\"&\").concat(t.query)},youtube_nocookie:function(t){return\"https://www.youtube-nocookie.com/embed/\".concat(t.id,\"/?autoplay=\").concat(t.autoplay?\"1\":\"0\",\"&\").concat(t.query)},vimeo:function(t){return\"https://player.vimeo.com/video/\".concat(t.id,\"/?autoplay=\").concat(t.autoplay?\"1\":\"0\",\"&\").concat(t.query)}},endpoint:function(t){return\"https://noembed.com/embed?url=\".concat(t.src)},response:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}};function a(t){var n=this;if(t instanceof HTMLElement!=!1&&!t.classList.contains(\"lazyframe--loaded\")){var i={el:t,settings:r(t)};i.el.addEventListener(\"click\",(function(){i.el.appendChild(i.iframe);var e=t.querySelectorAll(\"iframe\");i.settings.onAppend.call(n,e[0])})),e.lazyload?c(i):l(i,i.settings.thumbnail)}}function r(n){var i,a,r=Array.prototype.slice.apply(n.attributes).filter((function(t){return\"\"!==t.value})).reduce((function(t,e){return t[0===e.name.indexOf(\"data-\")?e.name.split(\"data-\")[1]:e.name]=e.value,t}),{}),l=t({},e,r,{y:n.offsetTop,originalSrc:r.src,query:(i=r.src,a=i.split(\"?\"),a[1]?a[1]:null)});if(l.vendor){var u=l.src.match(o.regex[l.vendor]);l.id=o.condition[l.vendor](u)}return l}function l(t){var e=this;!function(t){return!(!t.vendor||t.title&&t.thumbnail)}(t.settings)?c(t,!0):function(t,e){var n=o.endpoint(t.settings),i=new XMLHttpRequest;i.open(\"GET\",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}(t,(function(n,i){if(!n){var a=i[0],r=i[1];if(r.settings.title||(r.settings.title=o.response.title(a)),!r.settings.thumbnail){var l=o.response.thumbnail(a);r.settings.thumbnail=l,t.settings.onThumbnailLoad.call(e,l)}c(r,!0)}}))}function u(){var t=this,i=window.innerHeight,o=n.length,a=function(e,n){e.settings.initialized=!0,e.el.classList.add(\"lazyframe--loaded\"),o--,l(e),e.settings.initinview&&e.el.click(),e.settings.onLoad.call(t,e)};n.filter((function(t){return t.settings.y<i})).forEach(a);var r,u,c,s,d=(r=function(){m=f<window.pageYOffset,f=window.pageYOffset,m&&n.filter((function(t){return t.settings.y<i+f&&!1===t.settings.initialized})).forEach(a),0===o&&window.removeEventListener(\"scroll\",d,!1)},u=e.debounce,function(){var t=this,e=arguments,n=function(){s=null,c||r.apply(t,e)},i=c&&!s;clearTimeout(s),s=setTimeout(n,u),i&&r.apply(t,e)}),f=0,m=!1;window.addEventListener(\"scroll\",d,!1)}function c(t,i){if(t.iframe=function(t){var e=document.createDocumentFragment(),n=document.createElement(\"iframe\");t.vendor&&(t.src=o.src[t.vendor](t));n.setAttribute(\"id\",\"lazyframe-\".concat(t.id)),n.setAttribute(\"src\",t.src),n.setAttribute(\"frameborder\",0),n.setAttribute(\"allowfullscreen\",\"\"),t.autoplay&&(n.allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\");return e.appendChild(n),e}(t.settings),t.settings.thumbnail&&i&&(t.el.style.backgroundImage=\"url(\".concat(t.settings.thumbnail,\")\")),t.settings.title&&0===t.el.children.length){var a=document.createDocumentFragment(),r=document.createElement(\"span\");r.className=\"lazyframe__title\",r.innerHTML=t.settings.title,a.appendChild(r),t.el.appendChild(a)}e.lazyload||(t.el.classList.add(\"lazyframe--loaded\"),t.settings.onLoad.call(this,t),n.push(t)),t.settings.initialized||n.push(t)}return function(n){if(e=t({},i,arguments.length<=1?void 0:arguments[1]),\"string\"==typeof n)for(var o=document.querySelectorAll(n),r=0;r<o.length;r++)a(o[r]);else if(void 0===n.length)a(n);else for(var l=0;l<n.length;l++)a(n[l]);e.lazyload&&u()}}()}));\n//# sourceMappingURL=lazyframe.min.js.map\n","import './scss/lazyframe.scss'\n\nconst Lazyframe = () => {\n\n  let settings;\n\n  const elements = [];\n\n  const defaults = {\n    vendor: undefined,\n    id: undefined,\n    src: undefined,\n    thumbnail: undefined,\n    title: undefined,\n    initialized: false,\n    y: undefined,\n    debounce: 250,\n    lazyload: true,\n    autoplay: true,\n    initinview: false,\n    onLoad: (l) => {},\n    onAppend: (l) => {},\n    onThumbnailLoad: (img) => {}\n  };\n\n  const constants = {\n    regex: {\n      youtube_nocookie: /(?:youtube-nocookie\\.com\\/\\S*(?:(?:\\/e(?:mbed))?\\/|watch\\?(?:\\S*?&?v\\=)))([a-zA-Z0-9_-]{6,11})/,\n      youtube: /(?:youtube\\.com\\/\\S*(?:(?:\\/e(?:mbed))?\\/|watch\\?(?:\\S*?&?v\\=))|youtu\\.be\\/)([a-zA-Z0-9_-]{6,11})/,\n      vimeo: /vimeo\\.com\\/(?:video\\/)?([0-9]*)(?:\\?|)/,\n    },\n    condition: {\n      youtube: (m) => (m && m[1].length == 11 ? m[1] : false),\n      youtube_nocookie: (m) => (m && m[1].length == 11 ? m[1] : false),\n      vimeo: (m) =>\n        (m && m[1].length === 9) || m[1].length === 8 ? m[1] : false,\n    },\n    src: {\n      youtube: (s) =>\n        `https://www.youtube.com/embed/${s.id}/?autoplay=${\n          s.autoplay ? \"1\" : \"0\"\n        }&${s.query}`,\n      youtube_nocookie: (s) =>\n        `https://www.youtube-nocookie.com/embed/${s.id}/?autoplay=${\n          s.autoplay ? \"1\" : \"0\"\n        }&${s.query}`,\n      vimeo: (s) =>\n        `https://player.vimeo.com/video/${s.id}/?autoplay=${\n          s.autoplay ? \"1\" : \"0\"\n        }&${s.query}`,\n    },\n    endpoint: (s) => `https://noembed.com/embed?url=${s.src}`,\n    response: {\n      title: (r) => r.title,\n      thumbnail: (r) => r.thumbnail_url,\n    },\n  };\n\n  function init(elements, ...args) {\n    settings = Object.assign({}, defaults, args[0]);\n\n    if (typeof elements === 'string') {\n\n      const selector = document.querySelectorAll(elements);\n      for (let i = 0; i < selector.length; i++) {\n        loop(selector[i]);\n      }\n    } else if (typeof elements.length === 'undefined'){\n      loop(elements);\n    } else {\n      for (let i = 0; i < elements.length; i++) {\n        loop(elements[i]);\n      }\n    }\n\n    if (settings.lazyload) {\n      scroll();\n    }\n\n  }\n\n  function loop(el) {\n\n    if(el instanceof HTMLElement === false ||\n       el.classList.contains('lazyframe--loaded')) return;\n\n    const lazyframe = {\n      el: el,\n      settings: setup(el),\n    };\n\n    lazyframe.el.addEventListener('click', () => {\n      lazyframe.el.appendChild(lazyframe.iframe);\n\n      const iframe = el.querySelectorAll('iframe');\n      lazyframe.settings.onAppend.call(this, iframe[0]);\n    });\n\n    if (settings.lazyload) {\n      build(lazyframe);\n    } else {\n      api(lazyframe, !!lazyframe.settings.thumbnail);\n    }\n\n  }\n\n  function setup(el) {\n\n    const attr = Array.prototype.slice.apply(el.attributes)\n     .filter(att => att.value !== '')\n     .reduce((obj, curr) => {\n        let name = curr.name.indexOf('data-') === 0 ? curr.name.split('data-')[1] : curr.name;\n        obj[name] = curr.value;\n        return obj;\n     }, {});\n\n    const options = Object.assign({},\n      settings,\n      attr,\n      {\n        y: el.offsetTop,\n        originalSrc: attr.src,\n        query: getQuery(attr.src)\n      }\n    );\n\n    if (options.vendor) {\n      const match = options.src.match(constants.regex[options.vendor]);\n      options.id = constants.condition[options.vendor](match);\n    }\n\n    return options;\n\n  }\n\n  function getQuery(src) {\n    const query = src.split('?');\n    return query[1] ? query[1] : null\n  }\n\n  function useApi(settings) {\n    if (!settings.vendor) return false;\n    return !settings.title || !settings.thumbnail;\n  }\n\n  function api(lazyframe) {\n\n    if (useApi(lazyframe.settings)) {\n      send(lazyframe, (err, data) => {\n        if (err) return;\n\n        const response = data[0];\n        const _l = data[1];\n\n        if (!_l.settings.title) {\n          _l.settings.title = constants.response.title(response);\n        }\n        if (!_l.settings.thumbnail) {\n          const url = constants.response.thumbnail(response);\n          _l.settings.thumbnail = url;\n          lazyframe.settings.onThumbnailLoad.call(this, url);\n        }\n        build(_l, true);\n\n      });\n\n    }else{\n      build(lazyframe, true);\n    }\n\n  }\n\n  function send(lazyframe, cb) {\n\n    const endpoint = constants.endpoint(lazyframe.settings);\n    const request = new XMLHttpRequest();\n\n    request.open('GET', endpoint, true);\n\n    request.onload = function() {\n      if (request.status >= 200 && request.status < 400) {\n        const data = JSON.parse(request.responseText);\n        cb(null, [data, lazyframe]);\n      } else {\n        cb(true);\n      }\n    };\n\n    request.onerror = function() {\n      cb(true);\n    };\n\n    request.send();\n\n  }\n\n  function scroll() {\n\n    const height = window.innerHeight;\n    let count = elements.length;\n    const initElement = (el, i) => {\n      el.settings.initialized = true;\n      el.el.classList.add('lazyframe--loaded');\n      count--;\n      api(el);\n\n      if (el.settings.initinview) {\n        el.el.click();\n      }\n\n      el.settings.onLoad.call(this, el);\n    }\n\n    elements\n      .filter(el => el.settings.y < height)\n      .forEach(initElement);\n\n    const onScroll = debounce(() => {\n\n      up = lastY < window.pageYOffset;\n      lastY = window.pageYOffset;\n\n      if (up) {\n        elements\n          .filter(el => el.settings.y < (height + lastY) && el.settings.initialized === false)\n          .forEach(initElement);\n      }\n\n      if (count === 0) {\n        window.removeEventListener('scroll', onScroll, false);\n      }\n\n    }, settings.debounce);\n\n    let lastY = 0;\n    let up = false;\n\n    window.addEventListener('scroll', onScroll, false);\n\n    function debounce(func, wait, immediate) {\n      let timeout;\n      return function() {\n        let context = this, args = arguments;\n        let later = function() {\n          timeout = null;\n          if (!immediate) func.apply(context, args);\n        };\n        let callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n      };\n    };\n\n  }\n\n  function build(lazyframe, loadImage) {\n\n    lazyframe.iframe = getIframe(lazyframe.settings);\n\n    if (lazyframe.settings.thumbnail && loadImage) {\n      lazyframe.el.style.backgroundImage = `url(${lazyframe.settings.thumbnail})`;\n    }\n\n    if (lazyframe.settings.title && lazyframe.el.children.length === 0) {\n      const docfrag = document.createDocumentFragment(),\n            titleNode = document.createElement('span');\n\n      titleNode.className = 'lazyframe__title';\n      titleNode.innerHTML = lazyframe.settings.title;\n      docfrag.appendChild(titleNode);\n\n      lazyframe.el.appendChild(docfrag);\n    }\n\n    if (!settings.lazyload) {\n      lazyframe.el.classList.add('lazyframe--loaded');\n      lazyframe.settings.onLoad.call(this, lazyframe);\n      elements.push(lazyframe);\n    }\n\n    if (!lazyframe.settings.initialized) {\n      elements.push(lazyframe);\n    }\n\n  }\n\n  function getIframe(settings) {\n\n    const docfrag = document.createDocumentFragment();\n    const iframeNode = document.createElement('iframe');\n\n    if (settings.vendor) {\n      settings.src = constants.src[settings.vendor](settings);\n    }\n\n    iframeNode.setAttribute('id', `lazyframe-${settings.id}`);\n    iframeNode.setAttribute('src', settings.src);\n    iframeNode.setAttribute('frameborder', 0);\n    iframeNode.setAttribute('allowfullscreen', '');\n    \n    if (settings.autoplay) {\n      iframeNode.allow = 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture';\n    }\n\n    docfrag.appendChild(iframeNode);\n    return docfrag;\n\n  }\n\n  return init;\n\n}\n\nconst lf = Lazyframe();\n\nexport default lf;\n"],"names":["$parcel$interopDefault","a","__esModule","default","$ec69c9753c4c73e3$exports","console","log","e","t","Object","assign","arguments","length","n","i","prototype","hasOwnProperty","call","apply","vendor","id","src","thumbnail","title","initialized","y","debounce","lazyload","autoplay","initinview","onLoad","onAppend","onThumbnailLoad","o","regex","youtube_nocookie","youtube","vimeo","condition","concat","query","endpoint","response","thumbnail_url","HTMLElement","classList","contains","el","settings","r","Array","slice","attributes","filter","value","reduce","name","indexOf","split","l","offsetTop","originalSrc","u","match","addEventListener","appendChild","iframe","querySelectorAll","c","XMLHttpRequest","open","onload","status","JSON","parse","responseText","onerror","send","document","createDocumentFragment","createElement","setAttribute","allow","style","backgroundImage","children","className","innerHTML","add","push","window","innerHeight","click","forEach","s","d","m","f","pageYOffset","removeEventListener","clearTimeout","setTimeout","link","href","location","lazyframe","img","elements","defaults","undefined","constants","loop","setup","_this","build","api","attr","att","obj","curr","options","_extends","useApi","cb","request","data","err","_l","url","_this2","scroll","height","count","initElement","_this3","func","wait","immediate","timeout","onScroll","up","lastY","context","this","args","later","callNow","loadImage","docfrag","iframeNode","getIframe","titleNode","selector","Lazyframe"],"version":3,"file":"index.72a11c12.js.map"}