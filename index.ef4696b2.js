function t(t){return t&&t.__esModule?t.default:t}var e={};console.log(t(e=function(){function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}return function(){var e,n=[],o={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,autoplay:!0,initinview:!1,onLoad:function(t){},onAppend:function(t){},onThumbnailLoad:function(t){}},i={regex:{youtube_nocookie:/(?:youtube-nocookie\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=)))([a-zA-Z0-9_-]{6,11})/,youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},youtube_nocookie:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!!(t&&9===t[1].length||8===t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/".concat(t.id,"/?autoplay=").concat(t.autoplay?"1":"0","&").concat(t.query)},youtube_nocookie:function(t){return"https://www.youtube-nocookie.com/embed/".concat(t.id,"/?autoplay=").concat(t.autoplay?"1":"0","&").concat(t.query)},vimeo:function(t){return"https://player.vimeo.com/video/".concat(t.id,"/?autoplay=").concat(t.autoplay?"1":"0","&").concat(t.query)}},endpoint:function(t){return"https://noembed.com/embed?url=".concat(t.src)},response:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}};function a(n){var o=this;if(n instanceof HTMLElement!=!1&&!n.classList.contains("lazyframe--loaded")){var a={el:n,settings:function(n){var o,a=Array.prototype.slice.apply(n.attributes).filter(function(t){return""!==t.value}).reduce(function(t,e){return t[0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name]=e.value,t},{}),r=t({},e,a,{y:n.offsetTop,originalSrc:a.src,query:(o=a.src.split("?"))[1]?o[1]:null});if(r.vendor){var l=r.src.match(i.regex[r.vendor]);r.id=i.condition[r.vendor](l)}return r}(n)};a.el.addEventListener("click",function(){a.el.appendChild(a.iframe);var t=n.querySelectorAll("iframe");a.settings.onAppend.call(o,t[0])}),e.lazyload?l(a):r(a,a.settings.thumbnail)}}function r(t){var e,n,o,a,r=this;!(e=t.settings).vendor||e.title&&e.thumbnail?l(t,!0):(n=function(e,n){if(!e){var o=n[0],a=n[1];if(a.settings.title||(a.settings.title=i.response.title(o)),!a.settings.thumbnail){var c=i.response.thumbnail(o);a.settings.thumbnail=c,t.settings.onThumbnailLoad.call(r,c)}l(a,!0)}},o=i.endpoint(t.settings),(a=new XMLHttpRequest).open("GET",o,!0),a.onload=function(){a.status>=200&&a.status<400?n(null,[JSON.parse(a.responseText),t]):n(!0)},a.onerror=function(){n(!0)},a.send())}function l(t,o){if(t.iframe=(a=t.settings,r=document.createDocumentFragment(),l=document.createElement("iframe"),a.vendor&&(a.src=i.src[a.vendor](a)),l.setAttribute("id","lazyframe-".concat(a.id)),l.setAttribute("src",a.src),l.setAttribute("frameborder",0),l.setAttribute("allowfullscreen",""),a.autoplay&&(l.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),r.appendChild(l),r),t.settings.thumbnail&&o&&(t.el.style.backgroundImage="url(".concat(t.settings.thumbnail,")")),t.settings.title&&0===t.el.children.length){var a,r,l,c=document.createDocumentFragment(),u=document.createElement("span");u.className="lazyframe__title",u.innerHTML=t.settings.title,c.appendChild(u),t.el.appendChild(c)}e.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),n.push(t)),t.settings.initialized||n.push(t)}return function(i){if(e=t({},o,arguments.length<=1?void 0:arguments[1]),"string"==typeof i)for(var l=document.querySelectorAll(i),c=0;c<l.length;c++)a(l[c]);else if(void 0===i.length)a(i);else for(var u=0;u<i.length;u++)a(i[u]);e.lazyload&&function(){var t=this,o=window.innerHeight,i=n.length,a=function(e,n){e.settings.initialized=!0,e.el.classList.add("lazyframe--loaded"),i--,r(e),e.settings.initinview&&e.el.click(),e.settings.onLoad.call(t,e)};n.filter(function(t){return t.settings.y<o}).forEach(a);var l,c,u,s,d=(l=function(){m=f<window.pageYOffset,f=window.pageYOffset,m&&n.filter(function(t){return t.settings.y<o+f&&!1===t.settings.initialized}).forEach(a),0===i&&window.removeEventListener("scroll",d,!1)},c=e.debounce,function(){var t=this,e=arguments,n=u&&!s;clearTimeout(s),s=setTimeout(function(){s=null,u||l.apply(t,e)},c),n&&l.apply(t,e)}),f=0,m=!1;window.addEventListener("scroll",d,!1)}()}}()}())),document.querySelectorAll(".active").forEach(t=>{t.href===window.location.href&&(t.classList.add("on"),t.setAttribute("aria-current","page"))}),t(e)(".lazyframe",{onLoad:t=>console.log(t),onAppend:t=>console.log(t),onThumbnailLoad:t=>console.log(t)});
//# sourceMappingURL=index.ef4696b2.js.map
